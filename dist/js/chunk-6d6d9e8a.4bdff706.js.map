{"version":3,"sources":["webpack:///./src/views/auth/KYC.vue?0432","webpack:///./src/views/auth/KYC.vue","webpack:///./src/views/auth/KYC.vue?26fe","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["class","usersKYC","userKYC","key","username","email","firstname","mobileprefix","mobile","lastname","city","birthday","country","address","postalcode","nationality","src","API_URL","obverseDNI","reverseDNI","selfie","handleVerifyKYC","handleDenyKYC","errorMessage","name","data","created","axios","get","headers","Authorization","localStorage","getItem","then","response","length","catch","err","console","log","accordion","document","getElementsByClassName","i","addEventListener","this","classList","toggle","methods","user","post","splice","__exports__","render","$","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-6d6d9e8a.4bdff706.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./KYC.vue?vue&type=style&index=0&id=62028b2e&scoped=true&lang=css\"","<template>\n  <div class=\"div-center\">\n    <div class=\"KYC-auth-container\">\n      <p class=\"title\">KYC authentication</p>\n\n      <!-- Accordion for show users -->\n      <div class=\"accordion\" v-if=\"usersKYC\">\n\n        <!-- Titles -->\n        <span><strong>Username</strong></span>\n        <span><strong class=\"label-column2\">Email</strong></span>\n\n        <!-- Container with a for declaration -->\n        <div class=\"container\" v-for=\"userKYC in usersKYC\" :key=\"userKYC\">\n          <hr>\n\n          <!-- Label -->\n          <div class=\"label\">\n            <span>{{userKYC.username}}</span>\n            <span class=\"label-column2\">{{userKYC.email}}</span>\n            <span></span>\n          </div>\n\n          <!-- Content -->\n          <div class=\"content\">\n            <span><strong>First name: </strong>{{userKYC.firstname}}</span><br>\n            <span class=\"content-column2\"><strong>Mobile:&nbsp;</strong>{{userKYC.mobileprefix}} {{userKYC.mobile}}</span>\n            <span><strong>Last name: </strong>{{userKYC.lastname}}</span><br>\n            <span class=\"content-column2\"><strong>City:&nbsp;</strong>{{userKYC.city}}</span>\n            <span><strong>Birthday: </strong>{{userKYC.birthday}}</span><br>\n            <span class=\"content-column2\"><strong>Country:&nbsp;</strong>{{userKYC.country}}</span>\n            <span><strong>Address: </strong>{{userKYC.address}}, {{userKYC.postalcode}}</span><br>\n            <span class=\"content-column2\"><strong>Nationality:&nbsp;</strong>{{userKYC.nationality}}</span>\n            <table class=\"table-content\">\n              <tr>\n                <th><span>DNI obverse</span></th>\n                <th><span>DNI reverse</span></th>\n                <th><span>Selfie</span></th>\n              </tr>\n              <tr>\n                <td><img :src=\"this.API_URL+'/'+userKYC.obverseDNI\" class=\"images\"></td>\n                <td><img :src=\"this.API_URL+'/'+userKYC.reverseDNI\" class=\"images\"></td>\n                <td><img :src=\"this.API_URL+'/'+userKYC.selfie\" class=\"images\"></td>\n              </tr>\n            </table>\n            <button class=\"button-verify\" @click=\"handleVerifyKYC(userKYC)\">Verify KYC</button>\n            <button class=\"button-deny\" @click=\"handleDenyKYC(userKYC)\">Deny KYC</button>\n          </div>\n        </div>\n        <hr>\n      </div>\n\n      <p v-if=\"errorMessage\" class=\"error\">{{errorMessage}}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'KYC authentication',\n  data() {\n    return {\n      usersKYC: [],\n      errorMessage: '',\n      API_URL: ''\n    }\n  },\n  async created() {\n    this.API_URL = process.env.VUE_APP_API_URL\n\n    await this.axios.get('/superadmin/kycVerify', {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n      .then(response => {\n        if (response.data.length == 0) {\n          this.errorMessage = 'Non user had sent KYC Authentication'\n        } else {\n          this.usersKYC = response.data\n        }\n      })\n      .catch(err => {\n        this.errorMessage = 'Error occurred while loading users. Please, refresh the page'\n        console.log(err)\n      })\n    \n    const accordion = document.getElementsByClassName('label');\n\n    for (let i = 0; i < accordion.length; i++)\n    {\n      accordion[i].addEventListener('click', function () {\n        this.classList.toggle('active')\n      })\n    }\n  },\n  methods: {\n    async handleVerifyKYC(user) {\n      await this.axios.post('/superadmin/kycVerified', user, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n        .then(response => {\n          console.log('KYC verified\\n'+response)\n        }).catch(err => {\n          console.log('Error occurred sending user\\n'+err)\n        })\n\n      // Delete user from dynamic list\n      this.usersKYC.splice(user, 1)\n    },\n    async handleDenyKYC(user) {\n      await this.axios.post('/superadmin/kycDenied', user, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n        .then(response => {\n          console.log('KYC denied\\n'+response)\n        }).catch(err => {\n          console.log('Error occurred sending user\\n'+err)\n        })\n      \n      // Delete user from dynamic list\n      this.usersKYC.splice(user, 1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.div-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.KYC-auth-container {\n  width: 650px;\n  margin-top: 100px;\n  margin-left: 20px;\n}\n\n.title {\n  font-size: 22px;\n  font-weight: 500;\n}\n\nspan {\n  font-size: 14px;\n}\n\n.accordion .container {\n  width: 850px;\n}\n\n.accordion .label {\n  cursor: pointer;\n}\n\n.accordion .label::before {\n  content: '+';\n  font-size: 30px;\n  display: flex;\n  float: right;\n  margin-top: -11px;\n}\n\n.accordion .content {\n  width: 850px;\n  margin-top: 10px;\n  transition: 0.5s;\n  height: 0;\n  overflow: hidden;\n}\n\n.accordion hr {\n  width: 850px;\n  margin-bottom: 15px;\n}\n\n.accordion .container .label.active ~ .content {\n  height: 350px;\n}\n\n.accordion .container .label.active::before {\n  content: '-';\n  font-size: 40px;\n  display: flex;\n  float: right;\n  margin-top: -19px;\n  cursor: pointer;\n}\n\n.label-column2 {\n  position: absolute;\n  display: flex;\n  margin-top: -18px;\n  margin-left: 420px;\n}\n\n.content-column2 {\n  position: relative;\n  display: flex;\n  margin-top: -18px;\n  margin-left: 420px;\n}\n\n.table-content {\n  width: 850px;\n}\n\n.images {\n  width: 260px;\n  height: 180px;\n}\n\n.button-verify {\n    display: flex;\n    float: right;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    font-size: 15px;\n    background-color: #92B300; \n    padding: 6px;\n    padding-right: 10px;\n    padding-left: 10px;\n    margin-right: 21px;\n    margin-top: 14px;\n    border-width: 1px;\n    border-radius: 8px;\n    transition: 0.3s;\n}\n\n.button-verify:hover {\n    cursor: pointer;\n    background-color: #a1bf1c;\n}\n\n.button-deny {\n    display: flex;\n    float: right;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    font-size: 15px;\n    background-color: #dd0909; \n    padding: 6px;\n    padding-right: 10px;\n    padding-left: 10px;\n    margin-right: 21px;\n    margin-top: 14px;\n    border-width: 1px;\n    border-radius: 8px;\n    transition: 0.3s;\n}\n\n.button-deny:hover {\n    cursor: pointer;\n    background-color: #f73a3a;\n}\n\n.error {\n  position: absolute;\n  width: 45%;\n}\n</style>","import { render } from \"./KYC.vue?vue&type=template&id=62028b2e&scoped=true\"\nimport script from \"./KYC.vue?vue&type=script&lang=js\"\nexport * from \"./KYC.vue?vue&type=script&lang=js\"\n\nimport \"./KYC.vue?vue&type=style&index=0&id=62028b2e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/juanca898/Documentos/TFG/tfg-dapp/dashboard/vue-client/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62028b2e\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}