{"version":3,"sources":["webpack:///./src/views/admin/ViewUsers.vue?1153","webpack:///./src/views/admin/ViewUsers.vue","webpack:///./src/views/admin/ViewUsers.vue?b04f","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["class","type","value","users","user","index","key","editUser","isSuperadmin","username","email","isInvestor","isPromoter","deleteUser","errorMessage","name","data","created","axios","get","headers","Authorization","localStorage","getItem","then","response","length","catch","err","console","log","methods","role","some","post","userId","_id","$forceUpdate","splice","__exports__","render","$","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-65f890bc.7b0878af.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ViewUsers.vue?vue&type=style&index=0&id=5dfe0b37&scoped=true&lang=css\"","<template>\n  <div class=\"div-center\">\n    <div class=\"container\">\n\n      <!-- Title -->\n      <p class=\"title\">Users</p>\n\n      <!-- List of users -->\n      <div v-for=\"(user, index) in users\" :key=\"index\">\n        <form @submit=\"editUser(user)\">\n          <div class=\"user-container\" v-if=\"!isSuperadmin(user)\">\n            <div>\n              <input class=\"input-text\" type=\"text\" v-model=\"user.username\">\n            </div>\n            <div>\n              <input class=\"input-text\" type=\"text\" v-model=\"user.email\">\n            </div>\n            <div class=\"role-group\">\n              <div class=\"role\" v-if=\"isInvestor(user)\">\n                Investor\n              </div>\n              <div class=\"role\" v-if=\"isPromoter(user)\">\n                Promoter\n              </div>\n              <div class=\"role\" v-if=\"!isInvestor(user) && !isPromoter(user)\">\n                No role\n              </div>\n            </div>\n            <div>\n              <input type=\"submit\" value=\"Update\" class=\"editUser\">\n              <input type=\"submit\" value=\"Delete\" class=\"editUser\" @click=\"deleteUser(user)\">\n            </div>\n          </div>\n        </form>\n      </div>\n\n      <!-- Error message -->\n      <div>\n        <p class=\"errorMessage\">{{errorMessage}}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'View Users',\n  data() {\n    return {\n      users: [],\n      errorMessage: ''\n    }\n  },\n\n  async created() {\n    await this.axios.get('/superadmin/getUsers', {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n      .then(response => {\n        if (response.data.length == 0) {\n          this.errorMessage = 'Non user was registered'\n        } else {\n          this.users = response.data\n        }\n      })\n      .catch(err => {\n        this.errorMessage = 'Error occurred while loading users. Please, refresh the page'\n        console.log(err)\n      })\n  },\n\n  methods: {\n    // Check if user have got a superadmin role\n    isSuperadmin(user) {\n      return user.role.some(role => role === 'superadmin')\n    },\n\n    isInvestor(user) {\n      return user.role.some(role => role === 'investor')\n    },\n\n    isPromoter(user) {\n      return user.role.some(role => role === 'promoter')\n    },\n\n    async editUser(user)\n    {\n      await this.axios.post('/superadmin/updateUser', {\n        userId: user._id,\n        username: user.username,\n        email: user.email\n      }, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n      .then(() => {\n        this.$forceUpdate()\n      })\n    },\n\n    async deleteUser(user)\n    {\n      await this.axios.post('/superadmin/deleteUser', {\n        userId: user._id\n      }, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      })\n\n      this.users.splice(user, 1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.div-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.container {\n  width: 650px;\n  margin-top: 100px;\n  margin-left: 20px;\n}\n\n.title {\n  font-size: 22px;\n  font-weight: 500;\n}\n\n.user-container {\n  width: 900px;\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  border-bottom: solid 1px #1835b890;\n  border-radius: 10px;\n}\n\n.role {\n  font-size: 12px;\n  color: white;\n  margin: 0;\n}\n\n.role-group {\n  background-color: #7100B3;\n  padding: 7px;\n  border-radius: 10px;\n}\n\n.icons {\n  width: 20px;\n  margin-bottom: -3px;\n}\n\n.icons:hover {\n  cursor: pointer;\n}\n\n.input-text {\n    outline: none;\n    padding: 7px;\n    width: 300px;\n    background-color: #1835b81e;\n    font-size: 15px;\n    border-width: 0px;\n    border-radius: 10px;\n}\n\n.input-text:-webkit-autofill,\n.input-text:-webkit-autofill:hover,\n.input-text:-webkit-autofill:focus,\n.input-text:-webkit-autofill:active {\n    transition: background-color 5000s ease-in-out 0s;\n}\n\n.editUser {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    color: white;\n    font-size: 15px;\n    color: inherit;\n    background-color: white;\n    padding: 7px;\n    padding-right: 10px;\n    padding-left: 10px;\n    border-width: 0px;\n    border-radius: 5px;\n    transition: 0.3s;\n}\n\n.editUser:hover {\n    cursor: pointer;\n    background-color:  #0000002a;\n}\n\n.input-checkbox {\n  cursor: pointer;\n}\n</style>","import { render } from \"./ViewUsers.vue?vue&type=template&id=5dfe0b37&scoped=true\"\nimport script from \"./ViewUsers.vue?vue&type=script&lang=js\"\nexport * from \"./ViewUsers.vue?vue&type=script&lang=js\"\n\nimport \"./ViewUsers.vue?vue&type=style&index=0&id=5dfe0b37&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/juanca898/Documentos/TFG/tfg-dapp/dashboard/vue-client/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5dfe0b37\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}