{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/NewAsset.vue","webpack:///./src/views/NewAsset.vue?f658","webpack:///./src/views/NewAsset.vue?88d9"],"names":["DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","handleSubmit","type","assetName","required","assetDescription","acronym","id","ref","type_of_payment","value","duration_months","step","interest","min","totalSupply","onFileSelected1","name","onFileSelected2","onFileSelected3","errorMessage","successMessage","pendingMessage","data","whitepaper","brochure","legacy_docs","contractAddress","methods","$store","state","networkId","formData","FormData","append","user","username","axios","post","headers","Authorization","localStorage","getItem","then","catch","err","console","log","e","target","files","__exports__","render"],"mappings":"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","file":"js/chunk-685258a7.495cc80a.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n    <div class=\"div-center\">\n        <div class=\"newAsset-container\">\n            <p class=\"title\">Create new asset</p>\n\n            <!-- Form new asset container -->\n            <div class=\"form-container\">\n              <form @submit.prevent=\"handleSubmit\">\n                <span>Name</span><br>\n                <input type=\"text\" class=\"input-text\" v-model=\"assetName\" required><br><br>\n                <span>Description</span><br>\n                <input type=\"text\" class=\"input-text\" v-model=\"assetDescription\" required><br><br>\n                <span>Acronym</span><br>\n                <input type=\"text\" class=\"input-text\" v-model=\"acronym\" required><br><br>\n                <span>Type of payment</span><br>\n                <input type=\"radio\" class=\"input-radio\" id=\"Monthly\" ref=\"Monthly\" v-model=\"type_of_payment\" value=\"monthly\"><span class=\"payment\">Monthly</span><br>\n                <input type=\"radio\" class=\"input-radio\" id=\"Quarterly\" v-model=\"type_of_payment\" value=\"quarterly\"><span class=\"payment\">Quarterly</span><br>\n                <input type=\"radio\" class=\"input-radio\" id=\"Biannual\" v-model=\"type_of_payment\" value=\"biannual\"><span class=\"payment\">Biannual</span><br>\n                <input type=\"radio\" class=\"input-radio\" id=\"Annual\" v-model=\"type_of_payment\" value=\"annual\"><span class=\"payment\">Annual</span><br>\n                <input type=\"radio\" class=\"input-radio\" id=\"AtTheEnd\" v-model=\"type_of_payment\" value=\"at the end\"><span class=\"payment\">At the end</span><br>\n                <input type=\"radio\" class=\"input-radio\" id=\"NotRequired\" v-model=\"type_of_payment\" value=\"notrequired\"><span class=\"payment\">Not required</span><br><br>\n                \n                <div v-if=\"type_of_payment == 'monthly' || type_of_payment == 'quarterly' || type_of_payment == 'biannual' || type_of_payment == 'annual' || type_of_payment == 'at the end'\">\n                  <span>Fixed interest (%) in {{duration_months || '?'}} months</span><br>\n                  <input type=\"number\" step=\"any\" class=\"input-text\" v-model=\"interest\"><br><br>\n                  <span>Duration</span><br>\n                  <div class=\"duration\">\n                    <span>Months</span><input type=\"number\" min=\"1\" step=\"1\" class=\"input-text-months\" v-model=\"duration_months\">\n                  </div><br>\n                </div>\n                \n                <span>Total supply</span><br>\n                <input type=\"number\" class=\"input-text\" v-model=\"totalSupply\" required><br><br>\n                <span>Whitepaper</span><br>\n                <input type=\"file\" class=\"input-text\" @change=\"onFileSelected1\" name=\"whitepaper\" required><br><br>\n                <span>Brochure</span><br>\n                <input type=\"file\" class=\"input-text\" @change=\"onFileSelected2\" name=\"brochure\" required><br><br>\n                <span>Legacy documents</span><br>\n                <input type=\"file\" class=\"input-text\" @change=\"onFileSelected3\" name=\"legacy_docs\" required><br><br>\n\n                <!-- Messages -->\n                <p v-if=\"errorMessage\" class=\"error_message\">{{errorMessage}}</p>\n                <p v-if=\"successMessage\" class=\"success_message\">\n                  {{successMessage}}\n                  <!-- <a :href=\"'https://testnet.bscscan.com/token/'+contractAddress\" target=\"_blank\" class=\"link\">View in BscScan</a> -->\n                </p>\n                <p v-if=\"pendingMessage\" class=\"pending_message\">{{pendingMessage}}</p>\n                \n                <button class=\"input-submit\">Create</button>\n              </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'New Asset',\n  data() {\n    return {\n      assetName: '',\n      assetDescription: '',\n      acronym: '',\n      type_of_payment: '',\n      interest: 0,\n      duration_months: null,\n      totalSupply: null,\n      whitepaper: '',\n      brochure: '',\n      legacy_docs: '',\n      contractAddress: '',\n      errorMessage: '',\n      successMessage: '',\n      pendingMessage: ''\n    }\n  },\n\n  methods: {\n    async handleSubmit() {\n      if (this.$store.state.networkId == 97) {\n\n        // Show pending message\n        this.errorMessage = ''\n        this.successMessage = ''\n        this.pendingMessage = 'Sending contract. Please wait a few seconds...'\n\n        // Change interest\n        if (this.type_of_payment == 'notrequired')\n        {\n          this.interest = 0\n          this.duration_months = 0\n        }\n\n        // Save new asset\n        let formData = new FormData()\n        formData.append('username', this.$store.state.user.username)\n        formData.append('assetName', this.assetName)\n        formData.append('assetDescription', this.assetDescription)\n        formData.append('acronym', this.acronym)\n        formData.append('type_of_payment', this.type_of_payment)\n        formData.append('interest', this.interest)\n        formData.append('monthsDuration', this.duration_months)\n        formData.append('totalSupply', this.totalSupply)\n        formData.append('whitepaper', this.whitepaper, this.whitepaper.name)\n        formData.append('brochure', this.brochure, this.brochure.name)\n        formData.append('legacy_docs', this.legacy_docs, this.legacy_docs.name)\n        formData.append('state', 0)\n\n        await this.axios.post('/assets/newAsset', formData, {\n          headers: {\n            Authorization: 'Bearer ' + localStorage.getItem('token')\n          }\n        }).then(() => {\n          // Delete pending message and show success message\n          this.pendingMessage = ''\n          this.successMessage = 'Asset was sent. Waiting superadmin verification.'\n        }).catch(err => {\n            console.log('Error occurred creating new asset\\n'+err)\n        })\n      }\n      else {\n        this.errorMessage = 'You need to use BSC-testnet to deploy the asset'\n      }\n    },\n    onFileSelected1(e) {\n      this.whitepaper = e.target.files[0]\n    },\n    onFileSelected2(e) {\n      this.brochure = e.target.files[0]\n    },\n    onFileSelected3(e) {\n      this.legacy_docs = e.target.files[0]\n    }\n  }\n}\n</script>\n\n<style scoped>\n.div-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.newAsset-container {\n  width: 650px;\n  margin-top: 100px;\n  margin-left: 20px;\n}\n\n.title {\n  font-size: 22px;\n  font-weight: 500;\n}\n\n.form-container {\n  width: 850px;\n  margin-top: 30px;\n}\n\n.input-text {\n  outline: none;\n  padding: 7px;\n  margin-top: 7px;\n  margin-left: -4px;\n  width: 100%;\n  background-color: #f1d9ff;\n  border-width: 0px;\n  border-radius: 10px;\n}\n\n.input-text:-webkit-autofill,\n.input-text:-webkit-autofill:hover,\n.input-text:-webkit-autofill:focus,\n.input-text:-webkit-autofill:active {\n  transition: background-color 5000s ease-in-out 0s;\n}\n\n.input-text-years {\n  outline: none;\n  padding: 7px;\n  margin-top: 7px;\n  margin-left: 10px;\n  margin-right: 10px;\n  width: 150px;\n  background-color: #f1d9ff;\n  border-width: 0px;\n  border-radius: 10px;\n}\n\n.input-text-years:-webkit-autofill,\n.input-text-years:-webkit-autofill:hover,\n.input-text-years:-webkit-autofill:focus,\n.input-text-years:-webkit-autofill:active {\n  transition: background-color 5000s ease-in-out 0s;\n}\n\n.input-text-months {\n  outline: none;\n  padding: 7px;\n  margin-top: 7px;\n  margin-left: 10px;\n  width: 150px;\n  background-color: #f1d9ff;\n  border-width: 0px;\n  border-radius: 10px;\n}\n\n.input-text-months:-webkit-autofill,\n.input-text-months:-webkit-autofill:hover,\n.input-text-months:-webkit-autofill:focus,\n.input-text-months:-webkit-autofill:active {\n  transition: background-color 5000s ease-in-out 0s;\n}\n\n.input-submit {\n  display: flex;\n  float: right;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  color: white;\n  font-size: inherit;\n  font-weight: inherit;\n  background-color: #92B300; \n  padding: 10px;\n  padding-right: 20px;\n  padding-left: 20px;\n  margin-bottom: 50px;\n  border-width: 0px;\n  border-radius: 13px;\n  transition: 0.3s;\n}\n\n.input-submit:hover {\n    cursor: pointer;\n    background-color: #b5d620;\n}\n\n.payment {\n  display: inline-block;\n  margin-top: 8px;\n  margin-left: 10px;\n}\n\n.error_message {\n  position: absolute;\n  color: rgb(255, 43, 43);\n}\n\n.success_message {\n  position: absolute;\n  color: #7100B3;\n}\n\n.pending_message {\n  position: absolute;\n  color: #7100B3;\n}\n\n.link {\n  font-size: 15px;\n  text-decoration: none;\n  color: #1835b8;\n  transition: 0.3s;\n}\n\n.link:hover {\n  cursor: pointer;\n  color: #4f68d8;\n}\n</style>","import { render } from \"./NewAsset.vue?vue&type=template&id=157ecaa3&scoped=true\"\nimport script from \"./NewAsset.vue?vue&type=script&lang=js\"\nexport * from \"./NewAsset.vue?vue&type=script&lang=js\"\n\nimport \"./NewAsset.vue?vue&type=style&index=0&id=157ecaa3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/juanca898/Documentos/TFG/tfg-dapp/dashboard/vue-client/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-157ecaa3\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewAsset.vue?vue&type=style&index=0&id=157ecaa3&scoped=true&lang=css\""],"sourceRoot":""}