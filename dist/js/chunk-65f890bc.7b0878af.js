(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65f890bc"],{5328:function(e,t,r){"use strict";r("b31c")},8894:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),s=function(e){return Object(n["u"])("data-v-5dfe0b37"),e=e(),Object(n["s"])(),e},o={class:"div-center"},c={class:"container"},i=s((function(){return Object(n["f"])("p",{class:"title"},"Users",-1)})),a=["onSubmit"],u={key:0,class:"user-container"},l=["onUpdate:modelValue"],d=["onUpdate:modelValue"],f={class:"role-group"},b={key:0,class:"role"},p={key:1,class:"role"},m={key:2,class:"role"},j=s((function(){return Object(n["f"])("input",{type:"submit",value:"Update",class:"editUser"},null,-1)})),O=["onClick"],h={class:"errorMessage"};function v(e,t,r,s,v,g){return Object(n["r"])(),Object(n["e"])("div",o,[Object(n["f"])("div",c,[i,(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(v.users,(function(e,t){return Object(n["r"])(),Object(n["e"])("div",{key:t},[Object(n["f"])("form",{onSubmit:function(t){return g.editUser(e)}},[g.isSuperadmin(e)?Object(n["d"])("",!0):(Object(n["r"])(),Object(n["e"])("div",u,[Object(n["f"])("div",null,[Object(n["H"])(Object(n["f"])("input",{class:"input-text",type:"text","onUpdate:modelValue":function(t){return e.username=t}},null,8,l),[[n["E"],e.username]])]),Object(n["f"])("div",null,[Object(n["H"])(Object(n["f"])("input",{class:"input-text",type:"text","onUpdate:modelValue":function(t){return e.email=t}},null,8,d),[[n["E"],e.email]])]),Object(n["f"])("div",f,[g.isInvestor(e)?(Object(n["r"])(),Object(n["e"])("div",b," Investor ")):Object(n["d"])("",!0),g.isPromoter(e)?(Object(n["r"])(),Object(n["e"])("div",p," Promoter ")):Object(n["d"])("",!0),g.isInvestor(e)||g.isPromoter(e)?Object(n["d"])("",!0):(Object(n["r"])(),Object(n["e"])("div",m," No role "))]),Object(n["f"])("div",null,[j,Object(n["f"])("input",{type:"submit",value:"Delete",class:"editUser",onClick:function(t){return g.deleteUser(e)}},null,8,O)])]))],40,a)])})),128)),Object(n["f"])("div",null,[Object(n["f"])("p",h,Object(n["A"])(v.errorMessage),1)])])])}var g=r("1da1"),w=(r("a434"),r("96cf"),{name:"View Users",data:function(){return{users:[],errorMessage:""}},created:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/superadmin/getUsers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){0==t.data.length?e.errorMessage="Non user was registered":e.users=t.data})).catch((function(t){e.errorMessage="Error occurred while loading users. Please, refresh the page",console.log(t)}));case 2:case"end":return t.stop()}}),t)})))()},methods:{isSuperadmin:function(e){return e.role.some((function(e){return"superadmin"===e}))},isInvestor:function(e){return e.role.some((function(e){return"investor"===e}))},isPromoter:function(e){return e.role.some((function(e){return"promoter"===e}))},editUser:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.axios.post("/superadmin/updateUser",{userId:e._id,username:e.username,email:e.email},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(){t.$forceUpdate()}));case 2:case"end":return r.stop()}}),r)})))()},deleteUser:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.axios.post("/superadmin/deleteUser",{userId:e._id},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:t.users.splice(e,1);case 3:case"end":return r.stop()}}),r)})))()}}}),x=(r("5328"),r("6b0d")),U=r.n(x);const k=U()(w,[["render",v],["__scopeId","data-v-5dfe0b37"]]);t["default"]=k},a434:function(e,t,r){"use strict";var n=r("23e7"),s=r("23cb"),o=r("5926"),c=r("07fa"),i=r("7b0b"),a=r("65f0"),u=r("8418"),l=r("1dde"),d=l("splice"),f=Math.max,b=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,n,l,d,j,O,h=i(this),v=c(h),g=s(e,v),w=arguments.length;if(0===w?r=n=0:1===w?(r=0,n=v-g):(r=w-2,n=b(f(o(t),0),v-g)),v+r-n>p)throw TypeError(m);for(l=a(h,n),d=0;d<n;d++)j=g+d,j in h&&u(l,d,h[j]);if(l.length=n,r<n){for(d=g;d<v-n;d++)j=d+n,O=d+r,j in h?h[O]=h[j]:delete h[O];for(d=v;d>v-n+r;d--)delete h[d-1]}else if(r>n)for(d=v-n;d>g;d--)j=d+n-1,O=d+r-1,j in h?h[O]=h[j]:delete h[O];for(d=0;d<r;d++)h[d+g]=arguments[d+2];return h.length=v-n+r,l}})},b31c:function(e,t,r){}}]);
//# sourceMappingURL=chunk-65f890bc.7b0878af.js.map