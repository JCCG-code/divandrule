(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ff9958e"],{"06ec":function(e,t,n){"use strict";var u=n("7a23"),l=function(e){return Object(u["u"])("data-v-62b1c059"),e=e(),Object(u["s"])(),e},r={class:"nav-container"},c=l((function(){return Object(u["f"])("p",{class:"title"},"Settings",-1)})),i={class:"settings-nav"},a=Object(u["h"])("Change profile"),o=Object(u["h"])("Change password"),f=Object(u["h"])("KYC"),s=l((function(){return Object(u["f"])("hr",{class:"separator"},null,-1)}));function b(e,t,n,l,b,p){var d=Object(u["y"])("router-link");return Object(u["r"])(),Object(u["e"])("div",r,[c,Object(u["f"])("table",i,[Object(u["f"])("tr",null,[Object(u["f"])("td",null,[Object(u["i"])(d,{to:"/api/settings/profile",class:"links"},{default:Object(u["G"])((function(){return[a]})),_:1})]),Object(u["f"])("td",null,[Object(u["i"])(d,{to:"/api/settings/security",class:"links"},{default:Object(u["G"])((function(){return[o]})),_:1})]),Object(u["f"])("td",null,[Object(u["i"])(d,{to:"/api/settings/kyc",class:"links"},{default:Object(u["G"])((function(){return[f]})),_:1})])])]),s])}var p={name:"SettingsNav"},d=(n("bcae"),n("6b0d")),j=n.n(d);const O=j()(p,[["render",b],["__scopeId","data-v-62b1c059"]]);t["a"]=O},"435b":function(e,t,n){},"50ef":function(e,t,n){"use strict";n("435b")},9824:function(e,t,n){e.exports=n.p+"img/verified2-kyc.5ab8f982.png"},b0c0:function(e,t,n){var u=n("83ab"),l=n("5e77").EXISTS,r=n("9bf2").f,c=Function.prototype,i=c.toString,a=/^\s*function ([^ (]*)/,o="name";u&&!l&&r(c,o,{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(e){return""}}})},bcae:function(e,t,n){"use strict";n("da7e")},d4df:function(e,t,n){"use strict";n.r(t);var u=n("7a23"),l=n("a8ea"),r=n.n(l),c=n("9824"),i=n.n(c),a=function(e){return Object(u["u"])("data-v-f0188ff8"),e=e(),Object(u["s"])(),e},o={class:"div-center"},f={class:"div-center"},s={key:0,class:"checking-kyc-message"},b=a((function(){return Object(u["f"])("p",null,"Checking KCY authentication. Please wait.",-1)})),p=a((function(){return Object(u["f"])("img",{src:r.a,class:"icon-verified2",alt:"KYC Verified"},null,-1)})),d=[b,p],j={key:1,class:"success-message"},O=a((function(){return Object(u["f"])("p",null,"KYC authentication was completed!",-1)})),m=a((function(){return Object(u["f"])("img",{src:i.a,class:"icon-verified2",alt:"KYC Verified"},null,-1)})),y=[O,m],v={key:2,class:"form-container"},h={style:{width:"100%"}},g=a((function(){return Object(u["f"])("span",null,"First name",-1)})),x=a((function(){return Object(u["f"])("br",null,null,-1)})),S=a((function(){return Object(u["f"])("br",null,null,-1)})),k=a((function(){return Object(u["f"])("span",null,"Postal code",-1)})),I=a((function(){return Object(u["f"])("br",null,null,-1)})),N=a((function(){return Object(u["f"])("br",null,null,-1)})),C=a((function(){return Object(u["f"])("span",null,"Last name",-1)})),D=a((function(){return Object(u["f"])("br",null,null,-1)})),w=a((function(){return Object(u["f"])("br",null,null,-1)})),q=a((function(){return Object(u["f"])("span",null,"Address",-1)})),E=a((function(){return Object(u["f"])("br",null,null,-1)})),F=a((function(){return Object(u["f"])("br",null,null,-1)})),U=a((function(){return Object(u["f"])("span",null,"Birthday",-1)})),V=a((function(){return Object(u["f"])("br",null,null,-1)})),H=a((function(){return Object(u["f"])("br",null,null,-1)})),K=a((function(){return Object(u["f"])("span",null,"Nationality",-1)})),Y=a((function(){return Object(u["f"])("br",null,null,-1)})),_=a((function(){return Object(u["f"])("br",null,null,-1)})),$=a((function(){return Object(u["f"])("span",null,"Prefix",-1)})),G=a((function(){return Object(u["f"])("span",{style:{"margin-left":"30px"}},"Mobile",-1)})),P=a((function(){return Object(u["f"])("br",null,null,-1)})),A=a((function(){return Object(u["f"])("br",null,null,-1)})),B=a((function(){return Object(u["f"])("span",null,"DNI obverse photo",-1)})),J=a((function(){return Object(u["f"])("br",null,null,-1)})),R=a((function(){return Object(u["f"])("br",null,null,-1)})),z=a((function(){return Object(u["f"])("span",null,"Country",-1)})),L=a((function(){return Object(u["f"])("br",null,null,-1)})),M=a((function(){return Object(u["f"])("br",null,null,-1)})),T=a((function(){return Object(u["f"])("span",null,"DNI reverse photo",-1)})),X=a((function(){return Object(u["f"])("br",null,null,-1)})),Q=a((function(){return Object(u["f"])("br",null,null,-1)})),W=a((function(){return Object(u["f"])("span",null,"City",-1)})),Z=a((function(){return Object(u["f"])("br",null,null,-1)})),ee=a((function(){return Object(u["f"])("br",null,null,-1)})),te=a((function(){return Object(u["f"])("span",null,"Selfie photo",-1)})),ne=a((function(){return Object(u["f"])("br",null,null,-1)})),ue=a((function(){return Object(u["f"])("br",null,null,-1)})),le=a((function(){return Object(u["f"])("button",{class:"input-submit"},"Submit",-1)}));function re(e,t,n,l,r,c){var i=Object(u["y"])("SettingsNav");return Object(u["r"])(),Object(u["e"])("div",null,[Object(u["f"])("div",o,[Object(u["i"])(i)]),Object(u["f"])("div",f,[1==c.getKYCState?(Object(u["r"])(),Object(u["e"])("div",s,d)):2==c.getKYCState?(Object(u["r"])(),Object(u["e"])("div",j,y)):(Object(u["r"])(),Object(u["e"])("div",v,[Object(u["f"])("form",{onSubmit:t[13]||(t[13]=Object(u["I"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"])),enctype:"multipart/form-data"},[Object(u["f"])("table",h,[Object(u["f"])("tr",null,[Object(u["f"])("td",null,[g,x,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.firstname=e}),required:""},null,512),[[u["E"],r.firstname]]),S]),Object(u["f"])("td",null,[k,I,Object(u["H"])(Object(u["f"])("input",{type:"number",class:"input-text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.postalcode=e}),required:""},null,512),[[u["E"],r.postalcode]]),N])]),Object(u["f"])("tr",null,[Object(u["f"])("td",null,[C,D,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.lastname=e}),required:""},null,512),[[u["E"],r.lastname]]),w]),Object(u["f"])("td",null,[q,E,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.address=e}),required:""},null,512),[[u["E"],r.address]]),F])]),Object(u["f"])("tr",null,[Object(u["f"])("td",null,[U,V,Object(u["H"])(Object(u["f"])("input",{type:"date",class:"input-text","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.birthday=e}),required:""},null,512),[[u["E"],r.birthday]]),H]),Object(u["f"])("td",null,[K,Y,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.nationality=e}),required:""},null,512),[[u["E"],r.nationality]]),_])]),Object(u["f"])("tr",null,[Object(u["f"])("td",null,[$,G,P,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text-prefix","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.mobileprefix=e}),required:""},null,512),[[u["E"],r.mobileprefix]]),Object(u["H"])(Object(u["f"])("input",{type:"number",class:"input-text-mobile","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.mobile=e}),required:""},null,512),[[u["E"],r.mobile]]),A]),Object(u["f"])("td",null,[B,J,Object(u["f"])("input",{type:"file",class:"input-text",onChange:t[8]||(t[8]=function(){return c.onFileSelected1&&c.onFileSelected1.apply(c,arguments)}),name:"obverseDNI",required:""},null,32),R])]),Object(u["f"])("tr",null,[Object(u["f"])("td",null,[z,L,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.country=e}),required:""},null,512),[[u["E"],r.country]]),M]),Object(u["f"])("td",null,[T,X,Object(u["f"])("input",{type:"file",class:"input-text",onChange:t[10]||(t[10]=function(){return c.onFileSelected2&&c.onFileSelected2.apply(c,arguments)}),name:"reverseDNI",required:""},null,32),Q])]),Object(u["f"])("tr",null,[Object(u["f"])("td",null,[W,Z,Object(u["H"])(Object(u["f"])("input",{type:"text",class:"input-text","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.city=e}),required:""},null,512),[[u["E"],r.city]]),ee]),Object(u["f"])("td",null,[te,ne,Object(u["f"])("input",{type:"file",class:"input-text",onChange:t[12]||(t[12]=function(){return c.onFileSelected3&&c.onFileSelected3.apply(c,arguments)}),name:"selfie",required:""},null,32),ue])])]),le],32)]))])])}var ce=n("5530"),ie=n("1da1"),ae=(n("96cf"),n("b0c0"),n("06ec")),oe=n("5502"),fe={components:{SettingsNav:ae["a"]},data:function(){return{firstname:"",lastname:"",birthday:"",mobileprefix:"",mobile:null,country:"",city:"",postalcode:null,address:"",nationality:"",obverseDNI:"",reverseDNI:"",selfie:""}},methods:{handleSubmit:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("username",e.$store.state.user.username),n.append("email",e.$store.state.user.email),n.append("firstname",e.firstname),n.append("lastname",e.lastname),n.append("birthday",e.birthday),n.append("mobileprefix",e.mobileprefix),n.append("mobile",e.mobile),n.append("country",e.country),n.append("city",e.city),n.append("postalcode",e.postalcode),n.append("address",e.address),n.append("nationality",e.nationality),n.append("obverseDNI",e.obverseDNI,e.obverseDNI.name),n.append("reverseDNI",e.reverseDNI,e.reverseDNI.name),n.append("selfie",e.selfie,e.selfie.name),t.next=18,e.axios.post("/user/kyc",n,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.$store.dispatch("loadUser",t.data),e.$router.push("/")})).catch((function(e){console.log("Error occurred during kyc authentication\n"+e)}));case 18:case"end":return t.stop()}}),t)})))()},onFileSelected1:function(e){this.obverseDNI=e.target.files[0]},onFileSelected2:function(e){this.reverseDNI=e.target.files[0]},onFileSelected3:function(e){this.selfie=e.target.files[0]}},computed:Object(ce["a"])(Object(ce["a"])({},Object(oe["b"])(["getUser"])),{},{getKYCState:function(){var e=this.$store.state.user;return null!=e?e.KYCState:null}})},se=(n("50ef"),n("6b0d")),be=n.n(se);const pe=be()(fe,[["render",re],["__scopeId","data-v-f0188ff8"]]);t["default"]=pe},da7e:function(e,t,n){}}]);
//# sourceMappingURL=chunk-7ff9958e.f48a63f7.js.map